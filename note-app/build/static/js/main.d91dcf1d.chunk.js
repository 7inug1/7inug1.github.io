(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{16:function(e,t,s){},17:function(e,t,s){},18:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(2),o=s.n(a),i=s(9),r=s.n(i),l=(s(16),s(7)),c=s(3),h=s(4),d=s(1),g=s(6),u=s(5),j=(s(17),function(e){Object(g.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("form",{id:"form",name:"form",onSubmit:this.props.submitNewNote,children:Object(n.jsxs)("fieldset",{children:[Object(n.jsx)("legend",{children:"New Note"}),Object(n.jsxs)("label",{children:["Title:",Object(n.jsx)("input",{type:"text",name:"title",onChange:this.props.handleNewNoteTitleChange})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("label",{children:["Tag:",Object(n.jsx)("input",{type:"text",name:"tag",onKeyUp:this.props.addTags,placeholder:"Press shift to add tags",size:"80"})]}),Object(n.jsx)("br",{}),Object(n.jsx)("ul",{children:this.props.newNoteTags.map((function(t,s){return Object(n.jsxs)("li",{children:[Object(n.jsx)("span",{children:t}),Object(n.jsx)("button",{onClick:function(t){return e.props.removeTags(t,s)},children:"X"})]},s)}))}),Object(n.jsxs)("label",{children:["Content:",Object(n.jsx)("textarea",{type:"textarea",name:"content",onChange:this.props.handleNewNoteContentChange})]}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{children:"Submit"})]})}),Object(n.jsx)("br",{})]})}}]),s}(o.a.Component)),b=function(e){Object(g.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var e=this;return Object(n.jsx)(n.Fragment,{children:this.props.filteredNotes.map((function(t,s){return Object(n.jsx)("div",{id:"notes",children:Object(n.jsxs)("div",{className:"individualNote",onClick:e.props.handleShow,children:[Object(n.jsxs)("h3",{children:["Title: ",t.title]}),Object(n.jsxs)("h3",{children:["Content: ",t.content]}),Object(n.jsxs)("h3",{children:["Tag:",t.tag.map((function(e,t){return Object(n.jsx)("li",{children:e},t)}))]})]},s)})}))})}}]),s}(o.a.Component),N=function(e){Object(g.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var e=this;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{id:"tags",children:[Object(n.jsxs)("div",{id:"allTags",children:[Object(n.jsx)("h1",{children:"All tags"}),Object(n.jsx)("button",{onClick:function(){return e.props.getNotesByTags()},children:"All"}),this.props.unduplicatedTagsArray.map((function(t,s){return Object(n.jsx)("div",{id:"tags",children:Object(n.jsx)("button",{onClick:function(){return e.props.getFilteredTags(t)},children:t})},s)})),Object(n.jsx)("br",{})]}),Object(n.jsxs)("div",{id:"filteredTags",children:[Object(n.jsx)("h1",{children:"Filtered tags"}),this.props.filteredTags.map((function(t,s){return Object(n.jsx)("button",{onClick:function(){return e.props.removeFilteredTags(s)},children:t},s)}))]})]})})}}]),s}(o.a.Component),f=function(e){Object(g.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).state={key:[],data:[],show:!1,setShow:!1,newNoteTitle:"",newNoteTags:[],newNoteContent:"",notes:[],filteringTag:[],filteredTags:[],filteredNotes:[],unduplicatedTagsArray:[],currentlyClickedFilter:!1},n.handleNewNoteTitleChange=n.handleNewNoteTitleChange.bind(Object(d.a)(n)),n.handleNewNoteContentChange=n.handleNewNoteContentChange.bind(Object(d.a)(n)),n.getFilteredTags=n.getFilteredTags.bind(Object(d.a)(n)),n.getNotesByTags=n.getNotesByTags.bind(Object(d.a)(n)),n.submitNewNote=n.submitNewNote.bind(Object(d.a)(n)),n.addTags=n.addTags.bind(Object(d.a)(n)),n.removeFilteredTags=n.removeFilteredTags.bind(Object(d.a)(n)),n.handleShow=n.handleShow.bind(Object(d.a)(n)),n.handleClose=n.handleClose.bind(Object(d.a)(n)),n.saveNotesToLocalStorage=n.saveNotesToLocalStorage.bind(Object(d.a)(n)),n.retrieveNotesFromLocalStorage=n.retrieveNotesFromLocalStorage.bind(Object(d.a)(n)),n}return Object(h.a)(s,[{key:"saveNotesToLocalStorage",value:function(){for(var e=0;e<this.state.notes.length;e++){var t=e,s=JSON.stringify(this.state.notes[e]);localStorage.setItem(t,s)}console.log("localStorage length: "+localStorage.length)}},{key:"retrieveNotesFromLocalStorage",value:function(){var e=[];console.log("localStorage length: "+localStorage.length);for(var t=0;t<localStorage.length;t++){var s=t,n=JSON.parse(localStorage.getItem(s));e.push(n)}this.setState({notes:e})}},{key:"componentDidMount",value:function(){this.retrieveNotesFromLocalStorage();var e=this.state.notes.map((function(e){return e.tag})).flat(),t=[void 0];this.setState({filteringTag:t,unduplicatedTagsArray:Object(l.a)(new Set(e))}),this.getNotesByTags()}},{key:"getFilteredTags",value:function(e){var t=[];t.push(e);var s=[].concat(Object(l.a)(this.state.filteredTags),[t]).flat(),n=Object(l.a)(new Set(s));this.setState({filteredTags:n}),this.getNotesByTags(e)}},{key:"getNotesByTags",value:function(e){if(void 0===e)this.setState({filteredNotes:this.state.notes});else{for(var t=[],s=function(e,t){return t.every((function(t){return e.includes(t)}))},n=0;n<this.state.notes.length;n++)!0===s(this.state.notes[n].tag,this.state.filteredTags)&&t.push(this.state.notes[n]);this.setState({filteredNotes:t})}}},{key:"componentDidUpdate",value:function(e,t){if(t.notes!==this.state.notes||t.filteredTags!==this.state.filteredTags){var s=this.state.notes.map((function(e){return e.tag})).flat(),n=Object(l.a)(new Set(s));this.setState({unduplicatedTagsArray:n}),this.getNotesByTags(!0),this.saveNotesToLocalStorage()}}},{key:"handleNewNoteTitleChange",value:function(e){this.setState({newNoteTitle:e.target.value})}},{key:"addTags",value:function(e){if(e.preventDefault(),"Shift"===e.key&&e.target.value){console.log("added");var t=this.state.newNoteTags;t.push(e.target.value),this.setState({newNoteTags:t}),console.log("newNoteTags: ["+this.state.newNoteTags+"]"),e.target.value=""}}},{key:"handleNewNoteContentChange",value:function(e){this.setState({newNoteContent:e.target.value})}},{key:"removeFilteredTags",value:function(e){var t=this.state.filteredTags;t.splice(e,1);for(var s=[],n=function(e,t){return t.every((function(t){return e.includes(t)}))},a=0;a<this.state.notes.length;a++)!0===n(this.state.notes[a].tag,t)&&s.push(this.state.notes[a]);this.setState({filteredTags:t,filteredNotes:s})}},{key:"submitNewNote",value:function(e){e.preventDefault(),this.setState({notes:[].concat(Object(l.a)(this.state.notes),[{title:this.state.newNoteTitle,tag:this.state.newNoteTags,content:this.state.newNoteContent}]),newNoteTitle:"",newNoteTags:[],newNoteContent:""}),e.target.reset(),console.log(this.state.notes)}},{key:"handleShow",value:function(){this.setState({show:!0,setShow:!0})}},{key:"handleClose",value:function(){this.setState({show:!1,setShow:!1})}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(j,{newNoteTags:this.state.newNoteTags,newNoteContent:this.state.newNoteContent,submitNewNote:this.submitNewNote,handleNewNoteTitleChange:this.handleNewNoteTitleChange,addTags:this.addTags,handleNewNoteContentChange:this.handleNewNoteContentChange}),Object(n.jsxs)("div",{id:"grid",children:[Object(n.jsx)(N,{filteredTags:this.state.filteredTags,unduplicatedTagsArray:this.state.unduplicatedTagsArray,getNotesByTags:this.getNotesByTags,removeFilteredTags:this.removeFilteredTags,getFilteredTags:this.getFilteredTags}),Object(n.jsx)(b,{filteredNotes:this.state.filteredNotes,show:this.state.show,setShow:this.state.setShow,handleShow:this.handleShow,handleClose:this.handleClose})]})]})}}]),s}(a.Component);r.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(f,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.d91dcf1d.chunk.js.map